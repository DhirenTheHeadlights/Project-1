\doxysection{Collision\+Manager\+\_\+\+PG.\+cpp}
\hypertarget{_collision_manager___p_g_8cpp_source}{}\label{_collision_manager___p_g_8cpp_source}\index{C:/Users/Dhiren/source/repos/DhirenTheHeadlights/Project-\/1/PirateGame/Resource/CollisionManager\_PG.cpp@{C:/Users/Dhiren/source/repos/DhirenTheHeadlights/Project-\/1/PirateGame/Resource/CollisionManager\_PG.cpp}}
\mbox{\hyperlink{_collision_manager___p_g_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00001}00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_collision_manager___p_g_8h}{CollisionManager\_PG.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00003}00003\ \textcolor{keyword}{using\ namespace\ }\mbox{\hyperlink{namespace_pirate_game}{PirateGame}};}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00005}\mbox{\hyperlink{class_pirate_game_1_1_collision_manager_a7bf91ab70e6366e491e2cb664cc0c723_a7bf91ab70e6366e491e2cb664cc0c723}{00005}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_pirate_game_1_1_collision_manager_a7bf91ab70e6366e491e2cb664cc0c723_a7bf91ab70e6366e491e2cb664cc0c723}{CollisionManager::handleCollisions}}()\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00006}00006\ \ \ \ \ \textcolor{comment}{//\ Grab\ global\ hashmaps}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00007}00007\ \ \ \ \ \mbox{\hyperlink{class_pirate_game_1_1_ship_hashmap}{ShipHashmap}}*\ shipHashmap\ =\ \mbox{\hyperlink{class_pirate_game_1_1_global_hashmap_handler_a6d8848ebea3cedb1f440ff097568fe75_a6d8848ebea3cedb1f440ff097568fe75}{GlobalHashmapHandler::getInstance}}().\mbox{\hyperlink{class_pirate_game_1_1_global_hashmap_handler_a681482912b3d39617f5b74a973086578_a681482912b3d39617f5b74a973086578}{getShipHashmap}}();}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00008}00008\ \ \ \ \ \mbox{\hyperlink{class_pirate_game_1_1_land_mass_hashmap}{LandMassHashmap}}*\ landMassHashmap\ =\ \mbox{\hyperlink{class_pirate_game_1_1_global_hashmap_handler_a6d8848ebea3cedb1f440ff097568fe75_a6d8848ebea3cedb1f440ff097568fe75}{GlobalHashmapHandler::getInstance}}().\mbox{\hyperlink{class_pirate_game_1_1_global_hashmap_handler_a88b95d6ee543ad4d8d00e41afaa4f5f6_a88b95d6ee543ad4d8d00e41afaa4f5f6}{getLandMassHashmap}}();}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00010}00010\ \ \ \ \ \textcolor{comment}{//\ Grab\ the\ nearby\ landmasses\ and\ ships\ for\ the\ player\ ship}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00011}00011\ \ \ \ \ std::set<LandMass*>\ nearbyLandMasses\ =\ landMassHashmap-\/>\mbox{\hyperlink{class_pirate_game_1_1_land_mass_hashmap_a713febaf170f865080532c74bc1472b2_a713febaf170f865080532c74bc1472b2}{findLandMassNearShip}}(\mbox{\hyperlink{class_pirate_game_1_1_collision_manager_aea0d642ccb70a9be0b9f6f26f51e94a7_aea0d642ccb70a9be0b9f6f26f51e94a7}{playerShip}});}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00012}00012\ \ \ \ \ std::set<EnemyShip*>\ nearbyShips\ =\ shipHashmap-\/>\mbox{\hyperlink{class_pirate_game_1_1_ship_hashmap_a45a12db5943daf9150ea143f8ce911a2_a45a12db5943daf9150ea143f8ce911a2}{findEnemyShipsNearShip}}(\mbox{\hyperlink{class_pirate_game_1_1_collision_manager_aea0d642ccb70a9be0b9f6f26f51e94a7_aea0d642ccb70a9be0b9f6f26f51e94a7}{playerShip}});}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00014}00014\ \ \ \ \ \textcolor{comment}{//\ Vector\ to\ store\ colliding\ land\ masses}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00015}00015\ \ \ \ \ std::vector<LandMass*>\ collidingLandMasses;}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00016}00016\ \ \ \ \ collidingLandMasses.clear();}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00018}00018\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ player\ is\ colliding\ with\ any\ of\ the\ nearby\ land\ masses}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00019}00019\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ i\ :\ nearbyLandMasses)\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00020}00020\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_pirate_game_1_1_collision_manager_aecb71deec55fd0fbd138811a89a4465f_aecb71deec55fd0fbd138811a89a4465f}{pixelPerfectTest}}(\mbox{\hyperlink{class_pirate_game_1_1_collision_manager_aea0d642ccb70a9be0b9f6f26f51e94a7_aea0d642ccb70a9be0b9f6f26f51e94a7}{playerShip}}-\/>\mbox{\hyperlink{class_pirate_game_1_1_ship_a2dc314c9925ed058504207d26c7c4385_a2dc314c9925ed058504207d26c7c4385}{getSprite}}(),\ i-\/>getSprite()))\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00021}00021\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00022}00022\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_pirate_game_1_1_collision_manager_aea0d642ccb70a9be0b9f6f26f51e94a7_aea0d642ccb70a9be0b9f6f26f51e94a7}{playerShip}}-\/>\mbox{\hyperlink{class_pirate_game_1_1_player_ship_a5d95ebf7b049c6b1e0097633387006b8_a5d95ebf7b049c6b1e0097633387006b8}{getMovementHandler}}().\mbox{\hyperlink{class_pirate_game_1_1_ship_movement_handler_a3fa4b4d0f5f025fc3af31f25aaca37c2_a3fa4b4d0f5f025fc3af31f25aaca37c2}{collisionMovement}}(i-\/>getSprite());}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00023}00023\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_pirate_game_1_1_collision_manager_aea0d642ccb70a9be0b9f6f26f51e94a7_aea0d642ccb70a9be0b9f6f26f51e94a7}{playerShip}}-\/>\mbox{\hyperlink{class_pirate_game_1_1_ship_a192da2748801be93b0854146f1db25fa_a192da2748801be93b0854146f1db25fa}{damageShip}}(\mbox{\hyperlink{class_pirate_game_1_1_collision_manager_a9c01e2efc10c3c9d12d7d2555df62e8b_a9c01e2efc10c3c9d12d7d2555df62e8b}{collisionDamagePerSecond}}\ *\ collidingLandMasses.size());}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00024}00024\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00025}00025\ \ \ \ \ \ \ \ \ \ \ \ \ collidingLandMasses.push\_back(i);}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00027}00027\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_pirate_game_1_1_global_sound_manager_afc885196315697a58ce66d83d4cb3008_afc885196315697a58ce66d83d4cb3008}{GlobalSoundManager::getInstance}}().\mbox{\hyperlink{class_pirate_game_1_1_global_sound_manager_a01c210694daf9b56f0846e7bf3c96e99_a01c210694daf9b56f0846e7bf3c96e99}{playSound}}(\mbox{\hyperlink{namespace_pirate_game_ab5b1a6ae9100dc837e2a87ff172d2eb6_ab5b1a6ae9100dc837e2a87ff172d2eb6aabd00b75623472fb40b25774ffb919f7}{SoundId::Bonk}});}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00028}00028\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00029}00029\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00030}00030\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_pirate_game_1_1_collision_manager_aea0d642ccb70a9be0b9f6f26f51e94a7_aea0d642ccb70a9be0b9f6f26f51e94a7}{playerShip}}-\/>\mbox{\hyperlink{class_pirate_game_1_1_player_ship_a5d95ebf7b049c6b1e0097633387006b8_a5d95ebf7b049c6b1e0097633387006b8}{getMovementHandler}}().\mbox{\hyperlink{class_pirate_game_1_1_ship_movement_handler_afc8088051b4a9440b8eff5d05800583f_afc8088051b4a9440b8eff5d05800583f}{setIsColliding}}(\textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00031}00031\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00032}00032\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00034}00034\ \ \ \ \ \textcolor{comment}{//\ Grab\ the\ nearby\ landmasses\ and\ ships\ for\ each\ active\ ship}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00035}00035\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ enemyShip\ :\ nearbyShips)\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00036}00036\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!enemyShip-\/>isActive())\ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00038}00038\ \ \ \ \ \ \ \ \ std::set<LandMass*>\ nearbyLandmasses\ =\ landMassHashmap-\/>\mbox{\hyperlink{class_pirate_game_1_1_land_mass_hashmap_a713febaf170f865080532c74bc1472b2_a713febaf170f865080532c74bc1472b2}{findLandMassNearShip}}(enemyShip);}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00039}00039\ \ \ \ \ \ \ \ \ std::set<EnemyShip*>\ nearbyShips\ =\ shipHashmap-\/>\mbox{\hyperlink{class_pirate_game_1_1_ship_hashmap_a45a12db5943daf9150ea143f8ce911a2_a45a12db5943daf9150ea143f8ce911a2}{findEnemyShipsNearShip}}(enemyShip);}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00041}00041\ \ \ \ \ \ \ \ \ std::vector<LandMass*>\ collidingLandMasses;}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00042}00042\ \ \ \ \ \ \ \ \ collidingLandMasses.clear();}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00044}00044\ \ \ \ \ \ \ \ \ std::vector<EnemyShip*>\ collidingShips;}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00045}00045\ \ \ \ \ \ \ \ \ collidingShips.clear();}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00046}00046\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00047}00047\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ enemy\ ship\ is\ colliding\ with\ any\ of\ the\ nearby\ land\ masses}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00048}00048\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ i\ :\ nearbyLandmasses)\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00049}00049\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_pirate_game_1_1_collision_manager_aecb71deec55fd0fbd138811a89a4465f_aecb71deec55fd0fbd138811a89a4465f}{pixelPerfectTest}}(enemyShip-\/>getSprite(),\ i-\/>getSprite()))\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00050}00050\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ enemyShip-\/>getMovementHandler().collisionMovement(i-\/>getSprite());}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00051}00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ enemyShip-\/>damageShip(\mbox{\hyperlink{class_pirate_game_1_1_collision_manager_a9c01e2efc10c3c9d12d7d2555df62e8b_a9c01e2efc10c3c9d12d7d2555df62e8b}{collisionDamagePerSecond}}\ *\ collidingLandMasses.size());}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00053}00053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ collidingLandMasses.push\_back(i);}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00054}00054\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00055}00055\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00056}00056\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ enemyShip-\/>getMovementHandler().setIsColliding(\textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00057}00057\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00058}00058\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00059}00059\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00060}00060\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ enemy\ ship\ is\ colliding\ with\ any\ of\ the\ nearby\ ships}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00061}00061\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ i\ :\ nearbyShips)\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00062}00062\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_pirate_game_1_1_collision_manager_a70138dfeb497edfcf9600bfe6c43deaf_a70138dfeb497edfcf9600bfe6c43deaf}{shipCollisionTest}}(enemyShip,\ i))\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00063}00063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Ignore\ the\ collision\ if\ the\ ships\ are\ the\ same}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00064}00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (enemyShip\ ==\ i)\ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00066}00066\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ enemyShip-\/>getMovementHandler().collisionMovement(i-\/>getSprite());}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00067}00067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ enemyShip-\/>damageShip(\mbox{\hyperlink{class_pirate_game_1_1_collision_manager_a9c01e2efc10c3c9d12d7d2555df62e8b_a9c01e2efc10c3c9d12d7d2555df62e8b}{collisionDamagePerSecond}}\ *\ collidingLandMasses.size());}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00069}00069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ collidingShips.push\_back(i);}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00071}00071\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00072}00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ enemyShip-\/>getMovementHandler().setIsColliding(\textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00073}00073\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00074}00074\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00075}00075\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00076}00076\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ player\ ship\ is\ colliding\ with\ any\ of\ the\ nearby\ enemy\ ships}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00077}00077\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ i\ :\ nearbyShips)\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00078}00078\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_pirate_game_1_1_collision_manager_a70138dfeb497edfcf9600bfe6c43deaf_a70138dfeb497edfcf9600bfe6c43deaf}{shipCollisionTest}}(\mbox{\hyperlink{class_pirate_game_1_1_collision_manager_aea0d642ccb70a9be0b9f6f26f51e94a7_aea0d642ccb70a9be0b9f6f26f51e94a7}{playerShip}},\ i))\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00079}00079\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_pirate_game_1_1_collision_manager_aea0d642ccb70a9be0b9f6f26f51e94a7_aea0d642ccb70a9be0b9f6f26f51e94a7}{playerShip}}-\/>\mbox{\hyperlink{class_pirate_game_1_1_player_ship_a5d95ebf7b049c6b1e0097633387006b8_a5d95ebf7b049c6b1e0097633387006b8}{getMovementHandler}}().\mbox{\hyperlink{class_pirate_game_1_1_ship_movement_handler_a3fa4b4d0f5f025fc3af31f25aaca37c2_a3fa4b4d0f5f025fc3af31f25aaca37c2}{collisionMovement}}(i-\/>getSprite());}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00080}00080\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_pirate_game_1_1_collision_manager_aea0d642ccb70a9be0b9f6f26f51e94a7_aea0d642ccb70a9be0b9f6f26f51e94a7}{playerShip}}-\/>\mbox{\hyperlink{class_pirate_game_1_1_ship_a192da2748801be93b0854146f1db25fa_a192da2748801be93b0854146f1db25fa}{damageShip}}(\mbox{\hyperlink{class_pirate_game_1_1_collision_manager_a9c01e2efc10c3c9d12d7d2555df62e8b_a9c01e2efc10c3c9d12d7d2555df62e8b}{collisionDamagePerSecond}}\ *\ collidingLandMasses.size());}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00081}00081\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00082}00082\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ collidingShips.push\_back(i);}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00083}00083\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00084}00084\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00085}00085\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_pirate_game_1_1_collision_manager_aea0d642ccb70a9be0b9f6f26f51e94a7_aea0d642ccb70a9be0b9f6f26f51e94a7}{playerShip}}-\/>\mbox{\hyperlink{class_pirate_game_1_1_player_ship_a5d95ebf7b049c6b1e0097633387006b8_a5d95ebf7b049c6b1e0097633387006b8}{getMovementHandler}}().\mbox{\hyperlink{class_pirate_game_1_1_ship_movement_handler_afc8088051b4a9440b8eff5d05800583f_afc8088051b4a9440b8eff5d05800583f}{setIsColliding}}(\textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00086}00086\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00087}00087\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00088}00088\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00089}00089\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00090}00090\ \}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00091}00091\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00092}00092\ \textcolor{comment}{//\ This\ pixel\ perfect\ test\ is\ specifically\ for\ ships\ and\ land\ masses}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00093}00093\ \textcolor{comment}{//\ This\ pixel\ perfect\ test\ is\ specifically\ for\ ships\ and\ land\ masses}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00094}\mbox{\hyperlink{class_pirate_game_1_1_collision_manager_aecb71deec55fd0fbd138811a89a4465f_aecb71deec55fd0fbd138811a89a4465f}{00094}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_pirate_game_1_1_collision_manager_aecb71deec55fd0fbd138811a89a4465f_aecb71deec55fd0fbd138811a89a4465f}{CollisionManager::pixelPerfectTest}}(\textcolor{keyword}{const}\ sf::Sprite\&\ sprite1,\ \textcolor{keyword}{const}\ sf::Sprite\&\ sprite2,\ \textcolor{keywordtype}{unsigned}\ alphaLimit)\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00095}00095\ \ \ \ \ sf::RenderWindow\&\ window\ =\ *\mbox{\hyperlink{class_pirate_game_1_1_global_values_a40abd855ad2ca0e405e066ec43502a97_a40abd855ad2ca0e405e066ec43502a97}{GlobalValues::getInstance}}().\mbox{\hyperlink{class_pirate_game_1_1_global_values_ac0271b79e8e02295ca8095a22bfb0ae2_ac0271b79e8e02295ca8095a22bfb0ae2}{getWindow}}();}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00096}00096\ \ \ \ \ sf::FloatRect\ intersection;}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00097}00097\ \ \ \ \ \textcolor{keywordflow}{if}\ (!sprite1.getGlobalBounds().intersects(sprite2.getGlobalBounds(),\ intersection))\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00098}00098\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00099}00099\ \ \ \ \ \textcolor{keyword}{const}\ sf::Texture*\ texture1\ =\ sprite1.getTexture();}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00100}00100\ \ \ \ \ \textcolor{keyword}{const}\ sf::Texture*\ texture2\ =\ sprite2.getTexture();}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00101}00101\ \ \ \ \ \textcolor{keywordflow}{if}\ (!texture1\ ||\ !texture2)\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00102}00102\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00103}00103\ \ \ \ \ sf::Image\ image1\ =\ texture1-\/>copyToImage();\ \textcolor{comment}{//\ Costly\ operation,\ but\ works\ because\ there\ are\ only}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00104}00104\ \ \ \ \ sf::Image\ image2\ =\ texture2-\/>copyToImage();\ \textcolor{comment}{//\ A\ few\ collisions\ per\ frame\ at\ most}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00105}00105\ \ \ \ \ \textcolor{keyword}{const}\ sf::Uint8*\ pixels1\ =\ image1.getPixelsPtr();}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00106}00106\ \ \ \ \ \textcolor{keyword}{const}\ sf::Uint8*\ pixels2\ =\ image2.getPixelsPtr();}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00107}00107\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00108}00108\ \ \ \ \ sf::IntRect\ rect1\ =\ sprite1.getTextureRect();}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00109}00109\ \ \ \ \ sf::IntRect\ rect2\ =\ sprite2.getTextureRect();}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00110}00110\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00111}00111\ \ \ \ \ \textcolor{comment}{//\ Assuming\ sails\ make\ up\ about\ 20\%\ of\ the\ sprite\ width\ on\ each\ side}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00112}00112\ \ \ \ \ \textcolor{keywordtype}{float}\ sailExclusionFactor\ =\ 0.8f;\ \textcolor{comment}{//\ Use\ 80\%\ of\ the\ width\ for\ the\ body}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00113}00113\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00114}00114\ \ \ \ \ \textcolor{comment}{//\ Semi-\/major\ axis\ (long\ axis)\ adjusted\ to\ be\ thinner}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00115}00115\ \ \ \ \ \textcolor{keywordtype}{float}\ a\ =\ (rect1.width\ *\ sailExclusionFactor)\ /\ 2.0f;}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00116}00116\ \ \ \ \ \textcolor{keywordtype}{float}\ b\ =\ rect1.height\ /\ 2.0f;\ \textcolor{comment}{//\ Semi-\/minor\ axis\ remains\ the\ same}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00117}00117\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00118}00118\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(intersection.left);\ i\ <\ intersection.left\ +\ intersection.width;\ i++)\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00119}00119\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ j\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(intersection.top);\ j\ <\ intersection.top\ +\ intersection.height;\ j++)\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00120}00120\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Convert\ global\ coordinates\ to\ sprite1's\ local\ space}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00121}00121\ \ \ \ \ \ \ \ \ \ \ \ \ sf::Vector2f\ localPos1\ =\ sprite1.getInverseTransform().transformPoint(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(i),\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(j));}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00122}00122\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00123}00123\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Adjust\ for\ sail\ exclusion\ by\ re-\/centering\ the\ ellipse\ in\ the\ reduced\ width}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00124}00124\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ x\_rel\ =\ localPos1.x\ -\/\ (rect1.width\ *\ (1\ -\/\ sailExclusionFactor)\ /\ 2.0f)\ -\/\ (a\ *\ 2\ *\ sailExclusionFactor)\ /\ 2.0f;}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00125}00125\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ y\_rel\ =\ localPos1.y\ -\/\ rect1.height\ /\ 2.0f;}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00126}00126\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((x\_rel\ *\ x\_rel)\ /\ (a\ *\ a)\ +\ (y\_rel\ *\ y\_rel)\ /\ (b\ *\ b)\ <=\ 1)\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00127}00127\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Now\ check\ pixel\ alpha\ values\ for\ collision}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00128}00128\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ idx1\ =\ ((int)localPos1.y\ *\ rect1.width\ +\ (\textcolor{keywordtype}{int})localPos1.x)\ *\ 4;}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00129}00129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Convert\ global\ coordinates\ to\ sprite2's\ local\ space}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00130}00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sf::Vector2f\ localPos2\ =\ sprite2.getInverseTransform().transformPoint(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(i),\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(j));}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00131}00131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ idx2\ =\ ((int)localPos2.y\ *\ rect2.width\ +\ (\textcolor{keywordtype}{int})localPos2.x)\ *\ 4;}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00132}00132\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00133}00133\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (idx1\ >=\ 0\ \&\&\ idx1\ <\ rect1.width\ *\ rect1.height\ *\ 4\ \&\&\ idx2\ >=\ 0\ \&\&\ idx2\ <\ rect2.width\ *\ rect2.height\ *\ 4)\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00134}00134\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pixels1[idx1\ +\ 3]\ >\ alphaLimit\ \&\&\ pixels2[idx2\ +\ 3]\ >\ alphaLimit)\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00135}00135\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \textcolor{comment}{//\ Collision\ detected}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00136}00136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00137}00137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00138}00138\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00139}00139\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00140}00140\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00141}00141\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00142}00142\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \textcolor{comment}{//\ No\ collision\ detected}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00143}00143\ \}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00144}00144\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00145}00145\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00146}00146\ \textcolor{comment}{//\ This\ collision\ check\ is\ specifically\ for\ ships\ and\ other\ ships}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00147}\mbox{\hyperlink{class_pirate_game_1_1_collision_manager_a70138dfeb497edfcf9600bfe6c43deaf_a70138dfeb497edfcf9600bfe6c43deaf}{00147}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_pirate_game_1_1_collision_manager_a70138dfeb497edfcf9600bfe6c43deaf_a70138dfeb497edfcf9600bfe6c43deaf}{CollisionManager::shipCollisionTest}}(\mbox{\hyperlink{class_pirate_game_1_1_ship}{Ship}}*\ ship1,\ \mbox{\hyperlink{class_pirate_game_1_1_ship}{Ship}}*\ ship2)\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00148}00148\ \ \ \ \ \textcolor{comment}{//\ Check\ for\ global\ bounds\ intersection\ as\ a\ preliminary\ fast\ reject}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00149}00149\ \ \ \ \ \textcolor{keywordflow}{if}\ (!ship1-\/>\mbox{\hyperlink{class_pirate_game_1_1_ship_a2dc314c9925ed058504207d26c7c4385_a2dc314c9925ed058504207d26c7c4385}{getSprite}}().getGlobalBounds().intersects(ship2-\/>\mbox{\hyperlink{class_pirate_game_1_1_ship_a2dc314c9925ed058504207d26c7c4385_a2dc314c9925ed058504207d26c7c4385}{getSprite}}().getGlobalBounds()))\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00150}00150\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00151}00151\ \ \ \ \ \textcolor{comment}{//\ Get\ sprite\ references\ for\ ease\ of\ use}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00152}00152\ \ \ \ \ \textcolor{keyword}{const}\ sf::Sprite\&\ sprite1\ =\ ship1-\/>\mbox{\hyperlink{class_pirate_game_1_1_ship_a2dc314c9925ed058504207d26c7c4385_a2dc314c9925ed058504207d26c7c4385}{getSprite}}();}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00153}00153\ \ \ \ \ \textcolor{keyword}{const}\ sf::Sprite\&\ sprite2\ =\ ship2-\/>\mbox{\hyperlink{class_pirate_game_1_1_ship_a2dc314c9925ed058504207d26c7c4385_a2dc314c9925ed058504207d26c7c4385}{getSprite}}();}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00154}00154\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00155}00155\ \ \ \ \ \textcolor{comment}{//\ Calculate\ the\ positions\ of\ the\ ships'\ centers}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00156}00156\ \ \ \ \ sf::Vector2f\ center1\ =\ sprite1.getPosition();}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00157}00157\ \ \ \ \ sf::Vector2f\ center2\ =\ sprite2.getPosition();}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00158}00158\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00159}00159\ \ \ \ \ \textcolor{comment}{//\ Calculate\ the\ semi-\/major\ (a)\ and\ semi-\/minor\ (b)\ axes\ for\ both\ ships}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00160}00160\ \ \ \ \ \textcolor{comment}{//\ Assuming\ the\ ships'\ bounding\ box\ width\ is\ the\ semi-\/major\ axis\ and\ height\ is\ the\ semi-\/minor\ axis}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00161}00161\ \ \ \ \ \textcolor{keywordtype}{float}\ a1\ =\ sprite1.getGlobalBounds().width\ /\ 2.0f;}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00162}00162\ \ \ \ \ \textcolor{keywordtype}{float}\ b1\ =\ sprite1.getGlobalBounds().height\ /\ 2.0f;}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00163}00163\ \ \ \ \ \textcolor{keywordtype}{float}\ a2\ =\ sprite2.getGlobalBounds().width\ /\ 2.0f;}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00164}00164\ \ \ \ \ \textcolor{keywordtype}{float}\ b2\ =\ sprite2.getGlobalBounds().height\ /\ 2.0f;}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00165}00165\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00166}00166\ \ \ \ \ \textcolor{comment}{//\ Calculate\ the\ distance\ between\ the\ centers\ of\ the\ two\ ships}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00167}00167\ \ \ \ \ \textcolor{keywordtype}{float}\ distance\ =\ sqrt((center2.x\ -\/\ center1.x)\ *\ (center2.x\ -\/\ center1.x)\ +\ (center2.y\ -\/\ center1.y)\ *\ (center2.y\ -\/\ center1.y));}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00168}00168\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00169}00169\ \ \ \ \ \textcolor{comment}{//\ Use\ an\ adjusted\ sum\ of\ semi-\/major\ axes\ as\ a\ simple\ overlap\ check}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00170}00170\ \ \ \ \ \textcolor{comment}{//\ This\ factor\ can\ be\ tuned\ based\ on\ ship\ shapes/collision\ "{}sensitivity"{}}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00171}00171\ \ \ \ \ \textcolor{keywordtype}{float}\ collisionDistance\ =\ (a1\ +\ a2)\ *\ 0.75f;\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00172}00172\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00173}00173\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ distance\ is\ less\ than\ the\ adjusted\ sum\ of\ semi-\/major\ axes}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00174}00174\ \ \ \ \ \textcolor{keywordflow}{if}\ (distance\ <\ collisionDistance)\ \{}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00175}00175\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \textcolor{comment}{//\ Collision\ detected}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00176}00176\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00177}00177\ }
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00178}00178\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \textcolor{comment}{//\ No\ collision\ detected}}
\DoxyCodeLine{\Hypertarget{_collision_manager___p_g_8cpp_source_l00179}00179\ \}}

\end{DoxyCode}
